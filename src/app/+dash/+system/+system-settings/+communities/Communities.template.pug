p Manage Twitch communities known by Biliomi

.columns
  .col.span-8-of-12
    p Known Communities

    data-table(tableId="known-communites", [dataSource]="communitiesDataSource", [exportConfig]="exportConfig", [filterMapping]="tableFilterMapping")
      ng-container(columnDef="Name")
        header-cell(*headerCellDef="", sortProperty="Name", [sortDefault]="'ASC'") Name
        data-cell(*dataCellDef="let community")
          | {{community.Name}}

      ng-container(columnDef="Owner")
        header-cell(*headerCellDef="", sortProperty="Owner.Username") Owner
        data-cell(*dataCellDef="let community")
          user-display([user]="community.Owner")

      ng-container(columnDef="Twitch Id")
        header-cell(*headerCellDef="", sortProperty="TwitchId") Twitch Id
        data-cell(*dataCellDef="let community")
          | {{community.TwitchId}}

  .col.span-4-of-12
    p &nbsp;

    form(#communitiesSettingsForm="", (submit)="saveSettings()")
      mat-card
        mat-card-header
          mat-card-title Communities Settings
          mat-card-subtitle &nbsp;

        mat-card-content
          p.
            Biliomi will automatically update your communities when you change the current game via Biliomi.#[br]
            You can set communities per game #[a.text-primary(routerLink="/dash/system/game-register") here], or set default communities below. The latter will be applied to
            games without set communites.

          mat-slide-toggle([formControl]="autoUpdateCommunitiesControl")
            | Automatically update communities

          community-chip-list([(communities)]="communities", placeholder="Default Communities")
            | Select up to 3 communities. Press [space] while typing to confirm input.

        mat-card-actions
          save-button([stateEmitter]="_communitiesSettingsClient.afterSave")
          button(mat-button, type="button", (click)="ngAfterViewInit()", matTooltip="Refresh data")
            mat-icon refresh
